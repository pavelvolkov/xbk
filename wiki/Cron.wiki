=Cron=

Cron - регулярная процедура, запускаемая на сервере по установленому расписанию. Cron реализован в системе в виде скрипта "cron.php", который вызывает точку расшрения "cron" модуля "Ядро" - далее процедурами будут именоваться расширения данной точки расширения. Чтобы работал cron, нужно на сервере настроить планировщик, чтобы он запускал скрипт "cron.php".

Первоначальная настройка cron осуществляется в главном конфиге:
{{{
// Крон
$CONFIG['cron'] = Array();
// Автозапуск - осуществляется при каждом обращении к сайту.
// Рекомендуется использовать, если на сервере не настроен обычный крон.  
$CONFIG['cron']['autorun'] = false;
// Время в секундах, отведённое на один пуск, после которого осуществляется прерывание
$CONFIG['cron']['interrupt_time'] = 20;
// Максимальное время ожидания перед очередным запуском
// (в случае, если предыдущий запуск крон не был зафиксирован как завершённый)
$CONFIG['cron']['max_wait_time'] = 20*60;
}}}
Автозапуск cron удобно делать на локальном компьютере во время отладки проекта. Время прерывания "interrupt_time" ограничивает временной лимит выполнения процедур, после чего следующая процедура, намеченная на данный запуск, откладывается на следующий. Cron ведёт свой журнал, в котором фиксирует время запуска, время завершения и запущенные процедуры. Если предыдущий запуск не был обозначен как завершённый, следующий пуск производиться не будет, пока не истечёт время время ожидания "max_wait_time".

Журнал запуска "cron" можно посмотреть в разделе "Отчёты" панели суперадмина. Там же можно запустить крон вручную.