=Модульная архитектура=

Система "xBk" является модульной.

*Модуль* - набор программных компонент, объединёных для выполнения схожих задач, имеющие общие конфигурационные, языковые настройки, общий набор скинов и общую структуру данных, функционирующие на базе API-интерфейса ядра системы. Понятие "модуль" здесь можно понимать как "подсистема" или "стереотип" (UML).
 * Модуль поставляется единым комплектом. 
 * Модули системы условно разделены на две группы - системные (папка - "system_modules/") и пользовательские (папка - "user_modules/") - соглашения работы полностью идентичны у тех и других.
 Разделение модулей на две группы удобно с точки зрения централизованного обновления
 системы до новых версий. Особую координационную роль играет модуль "Ядро" (core), являясь
 первичным в последовательности запуска. 
 * Модуль может содержать модели данных во внутренней папке "models/" и историю миграций в "migrations/", если предполагается использование собственной структуры базы данных. Работа с моделями и миграциями производится по правилам библиотеки "ORM Doctrine". 
 * Основными программными компонентами модуля являются классы "php", _имена которых должны быть уникальными_. 
 * Ключевую роль в работе модуля играет особая группа класcов - контекстные объекты.
 * Параметры интеграции модуля в системе устанавливаются в декларационном файле "module.xml", который располагается в папке модуля. Дополнительные процедуры характерные в работе модуля объявляются в специальном мета-классе.
 * Существует несколько уровней взаимодействия модулей друг с другом. Тесное взаимодействие - когда один модуль непосредственно обращается к хранимым данным другого модуля. Нормальное - обращение к классам другого модуля. Обратное (ожидающее) взаимодействие - объявление точек расширения и подключение к ним (отличается от системы хуков тем, что здесь взаимодействуют два объекта - вызыващий и вызываемый - через API-интерфейс точки расширения).
 * Языковые настройки модуля хранятся в папке "lang/" в xml-файлах, чьи имена устанавливаются по индексу языка.

Список модулей представлен в панели суперадмина в разделе "Модули". По каждому модулю можно производить действия установки, обновления, деинсталляции, а также функции для разработчиков регистрации и обновления языкового интерфейса.

Установка модуля производится действием "Установить". В процессе установки в базе данных создаются необходимые таблицы (если они были описаны моделями данных), производится регистрация модуля, которая заключается в помещении информации из файла "module.xml" и языковых настроек в базу данных, и запускается скрипт инсталляции, если он был объявлен в мета-классе. В дальнейшей работе модуля вся необходимая информация берётся из базы данных.
В процессе проектирования модуля, все вносимые изменения в декларационный файл и языковые настройки необходимо синхронизировать с базой данных. Обновление регистрационной информации производится действием "Перерегистрировать". Также можно обновить только языковые настройки модуля, нажав "Обновить языковой интерфейс".