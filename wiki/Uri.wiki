=Внешний запрос и механизм ссылок=

Механизм ссылок предоставляет удобной функционал для построения внутренних ссылок и реализован в виде класса "xbkUri". Данный механим предпочтителен для обеспечения гибкости в проектировании связанных страниц и поддержания цельности проекта.

Ссылку url можно условно разделить на следующие компоненты:
 * *scheme* - протокол соединения;
 * *host* - имя хоста;
 * *port* - порт;
 * *user* - имя пользователя;
 * *pass* - пароль;
 * *path* - путь;
 * *query* - строка запроса;
 * *fragment* - фрагмент (якорь на странице).
Параметры *user* и *pass* характерны для ftp-соединения.

Разберём структуру ссылки на примере следующего адреса:
{{{
https://my.domain.com/path/to/site/path/to/section/local/task?var1=value1&var2=value2#form
}}}
Здесь протокол соединения - "https", хост - "my.domain.com", путь - "path/to/site/path/to/section/local/task", строка запроса - "var1=value1&var2=value2", фрагмент - "form".

Путь *path* в системе "xBk" делится на три части:
 * Путь до корневой папки сайта - он задаётся в главном конфигурационном массиве $CONFIG и автоматически добавляется в сгенерированную ссылку. Механизм ссылок всегда генерирует адреса от корня сайта. В нашем примере - "path/to/site".
 * Путь маршрутизатора (путь до секции) - определяет иерархический путь до искомой секции. В нашем примере - "path/to/section".
 * Внутренний путь секции - остальная часть пути, которая используется в качестве внешнего параметра в работе секции. В нашем примере - "local/task".

Если мы используем субконтроллер, то путь маршрутизатора будет пустым - весь внутренний путь будет восприниматься как путь секции.